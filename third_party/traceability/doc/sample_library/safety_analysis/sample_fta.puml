@startuml

!include fta_metamodel.puml

' Top level (skeleton)
$TopEvent("Skeleton \nnot offered", "SampleLibrary.SampleFailureMode")

' 2nd level gates and events
$AndGate("AGF", "SampleLibrary.SampleFailureMode")

$IntermediateEvent("Instance Specifier is\nwrongly configured", "IEF", "AGF")
$IntermediateEvent("Shared Memory\nsegment was not\ncreated", "IE2", "AGF")
$BasicEvent("Shared Memory\nsegments are\ncreated under\nwrong name", "PEF", "AGF")
$IntermediateEvent("Service Discovery\nMarker Files have\nbeen incorrectly\ncreated", "IE3", "AGF")

' 3rd level cascades from AGF
$AndGate("AG2", "IEF")
$IntermediateEvent("Wrongly configured\non Skeleton / Proxy\nside", "IE4", "AG2")
$IntermediateEvent("Default Configuration", "IE5", "IE4")
$TransferIn("DC", "IE5")
$BasicEvent("Instance Specifier\nresolution broken", "SampleLibrary.BrokenResolution", "AG2")
$BasicEvent("Differently configured\nbetween skeleton\nand proxy side", "SampleLibrary.WrongConfig", "AG2")

$AndGate("AG3", "IE2")
$BasicEvent("Shared Memory\nsegment does not\ntry to create segment", "SampleLibrary.CreateSegment", "AG3")
$BasicEvent("OS related\nfunctionality failed", "SampleLibrary.OsFailes", "AG3")

$AndGate("AG4", "IE3")
$BasicEvent("Wrong Directory Structure", "SampleLibrary.WrongDirectory", "AG4")
$BasicEvent("Not Created\nat all", "SampleLibrary.NotCreated", "AG4")
$BasicEvent("Wrong Marker\nfilename", "SampleLibrary.WrongMarker", "AG4")
@enduml
